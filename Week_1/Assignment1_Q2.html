<html>
<head>
  <title>San Francisco Crime (points)</title>
 <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.3/dist/leaflet.css"
   integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ=="
   crossorigin=""/>
 <script src="https://unpkg.com/leaflet@1.3.3/dist/leaflet.js"
   integrity="sha512-tAGcCfR4Sc5ZP5ZoVz0quoZDYX5aCtEm/eu1KhSLj2c9eFrylXZknQYmxUssFaVJKvvc0dJQixhGjG2yXWiV9Q=="
   crossorigin=""></script>
  <script src="https://cdn.rawgit.com/jquery/jquery-ui/74f8a0ac/external/jquery-2.1.1/jquery.js"></script> 
  <style>
    #map{ height: 100% }
  </style>
</head>
<body>

  <div id="map"></div>

  <script>
  // initialize the map
  var map = L.map('map').setView([37.7749,-122.4194], 12);
  // load a tile layer
  L.tileLayer('http://a.tile.stamen.com/toner/{z}/{x}/{y}.png',
    {
      attribution: 'Tiles by <a href="http://mapc.org">MAPC</a>, Data by <a href="http://mass.gov/mgis">MassGIS</a>',
      maxZoom: 17,
      minZoom: 9
    }).addTo(map);
  
  // load GeoJSON from an external file
  $.getJSON("sf_crime.geojson",function(data){
    var crimeIcon = L.icon({
      iconUrl: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAh1BMVEX///8AAADt7e3u7u7r6+vx8fHz8/P4+Pj19fX6+vre3t7l5eWzs7OdnZ2np6fGxsbPz8/Y2Ni9vb2pqana2tqwsLCDg4NqamqWlpZjY2M8PDxWVlZdXV3KysqQkJAMDAwvLy92dnZQUFAfHx+Hh4dCQkIbGxt8fHxxcXE3NzcmJiYXFxdHR0dB2qNOAAASPUlEQVR4nO1daXuqPBBFIAvginVprba2erXL//99ryxaljNZAFvvfTtfOk9NwhwImZPJJDhOIq7nee4/qjk3Yscvwl+EWoQn8f9RLVUzsP4/qnk/3o2uq3m/CP96zSu8kv4/qeUD6m0Ycx0tk9voUFf1hz9uxy/C1gh/nHlcT/vlNH+99n/w+P8+wq9X8ued8y+naaRl8h1dhvGTpFqisG+77vURsgwXX8ez4WA4HAyGy8FwFofJf6Xk7G9HKNh4ujk+9KDsj8vZ+NpPM0fYPaPwTpaHs8M7xlaU53k/ciT3/jZO489WenBfspidKnl/CadhUo43TzbwMvmzHAWy89eye4/Pxehgj+4s87W4dYS8ydMrysdQdoywO05zanX82A5eJouJw26T0wz/dIEvkfe4O6ucTrpCog27gpfJ7LY8Pu8aX4rx5CNvBCEX0+7xneSpH3TgPHKELTiDF4wMiEszeRuL1va15jRcLK6FL5Gtz3+W07BgcE18iUzbddWWHl+GxKyhS3mJ+I8hFFd/gJlMWyFswWmCz+8B2OvdN7KvLaeRo+/Cl8hYfjen8YKNnYkP9/PlcBqPTjKbDpbzxZtd/UHTSUdThMx8frvf9e+cJCYj8/gT41wmg0cwGc7NR6r770XIXw3NGoylkGR7/PTjemp4s96CNggtmUJoYtHTZnx6Xp6uPe/0d70zwuh/F6eRsYE1u4mQzLRlxp2xSWRgLe0sbchpDHj2Z9ykQ8X6wadvZWlTj7/UmXEcW9uR37vxvRHEKyPU8ZhDJLyGCF0mwq0BxOtyGg3AeSQ9a/JQ0DzJNRj71+U0Gia6CqVde0BzxeRFeZGp3TUcq24klYPMn1EXc/JkShYrQ5KxVXt2CJVuYtlNXCXRmKN0kHdXQ6hy9M9Ra1wlLVSxJtceoRE/kIprboxbMdYUFOApuAqn4YqA00hYMyOd5ok1fb0HeQVOE9AR+33Au+ygF409k5c8BoatmHt8SVOZbbe4ihrNcUwjG+YI6S4z7BxXQaPva2SK0JTTkFca6euWWUsWOTNdXSKXC17NrmvKaQQ5S73jlqxFDj57vY974xtDdp6F6JDT0FwmtO14l263F4Y1JtS1Y96Zx2cRdZHI9tXaFiqfXhHPNah7R13dNZnEGCEkA6Oh6ZPLNVbucnHEA0UU56JRT/HeJP6WI1SyAk710Ym+blmT2et86MeXzvr6Mp+Os0QTui7Fh2OD6xpxGqL9kbTmKkm1P6nKSk0tQnXdGWEC64TTCIIgDuy9m5vUy2/tvNzaQV2XmGvMRQcen41x48cG/juZPz9kAGvEeqWuS3DGkLVHGOxh02/muM6amy4EPGcAhW2fwLOpVdCa07A+vnmSrIE16Z5JQxYuy0j1SxyG8XkRWW2Li+0YsdacBt+7k7e1i78UxorVcJgz6mV2+Si7xlDZCscD6kNrToMfYfKGW72CW9TK2/n6QRqXedS0ghMGRm09PowJvdq+gkdo3OZiQPZ8dK3ARp5bIsSP0JaN5jHIRTzuFwMFhy8LjBDiUX3NWnAa14Gpajs7JuNF5/uSSHHeXkEY6NqDXeEhaMNp8CPknh2TyWhtRpOd4uL44xlg1kt1/MrzoTkTtQVqfwiXaPvc5hU8DZVZrRyMV2zqM7vPGbV+1Q5fEs6HH1UWaDw+DJB+BpZMJjPr/Lgqz2E17A9zTznUx7MCuADnNkcIGemYWSJMW1mcEaYdchTE9RmZyfQLTqQ2SoRKHoGaO0oLJpNq26Ta7owweQqz09xCVBcnIqP2YDhFUUPJaTjs9Xc24BJNpnT0MweYtPmUR1hKgbQxN2nPgx5jpqBujqJTwE6/sM5r4dnomY54TjqZHpyHqmhz9kYH33D4CtBDfBGNPD7u8xP7BV7xnN9oOcpWBv3zr54MojjujyJHmrbHYewtoq1SIJQo62mluFvk8FAJJR1K01bbfU9wNjegW8kRIlYQID5znqyYchqeJNSUw7ofnjbHRqXB6dyDJGsoOA0KIb6DcqTG5Ho4i/3kZhXHlPByk72qZtYysKsn6Lq0P0Qj6dSiQ8mzO1iGQoRnSvno58lt4fgu5DwIeHSSO/8k0hVCGnRalEvQp9iCyuOj/m6TWlZ4je/HQeDEy8NucCfSX4dEctDzwWCRnoGK99RQRSP0AtDOQo/ropVfl31mOU/5kKtKRHhTcbBMQwFqGiHFaRgKGlisM9Vu9PvY0cRfz8KbrEfFzJrTIE5qvs4kQPRvka8z6BIRV5p8YHiLBlQNh+wKH/VWjsZ+GbOFnNdoACr9d6aBlKI9VYNEWI9nJgE2U4QSB2bShVs0UJSlrxtQ0UKKNUKUpx6YDqMeEdzsfTiK9cCLDHUbLNBcf6JGWOcCwOm8GTMPRq5Nj6l4Ugkh010DDMZTogbFIySg8BteL0doZC7sjOH5T0li3TXktl4pmbfCGoQ/hK+hKUmuUu2CjBnTJ4lPtBMM8CK+CzuPj3q6bzpxgnO4TIRngNDXDtXoFuJVKAohAwPNU2A4XSJWGBJZchOE+iRA1MUmMPWT4jQogHFvuDHH8+p1z+J6LlOkq+Uy1l5DAuKGQxkkpwG5SENTwkZv+EoXKvR7GfKxVHUNMDsn7HOIrgA8dmzSQaVQ7XlOB2Ntrv9pWNS+DmAavLPz+CDYrc2d8XgQK48cyLiKwVYnfbQLuJxHO4TgspprnoheX73l+SUdqlR5uGcZaRHyeqV3O05DIFQxmYluS3foJeVMdu5vqWt8adBAc07jgRjNG8UZUo152i3dy7SGMDoZxPU0vAk1wyw4DZr8PEpVTEZPpz/SGpzK/SnLQGqGNIEGCsRICI+PfNZWhdBgN1u6GcozeQsT0SGUYEi7s0CIWMlOgdBgS3C2BVSabTQ8OTfV/UwQAnc2xgghp0FR1w0n3a++i+ZJywYzp7NINbXg83qVkQdqUJwGPMMpdTk0LIHafnL+l+Hm2p6eQYH569qG04BnOKO6DHrpq/Kc1lBsaKiLxvtChBYe3wIhr1/rEGe37+6yiXmS1JDAquN0NJmM42U9/LxTIwRuFecOtUdY7aNP/ULDDkuHlqMDJ3Wr9VfBOnxGTF3JZ6hEWOUCxHuIOEMlrrp0KsJXGc90ReU5vU4qJSvzhYVQcRrcS405DQN+ecnh7qTKIwyrAE+y3CRL/1WXcqwXvANtEZyGA7cTs3o5itNw5C2ghyo7uD8SAMwKVtOras86EVkqs6pdrXBdEJIfoTgSxWmAC59jhKUyHAN0Arca2tjhguXmqBBocl1AgwmPjxECz3xECMsPu/piFSz3RGnm/0IVLAVxVjRCtIkntOA0HohlvSCWUaKHxHNJpTKQCrJgabgJ6RQWsHHPd+vl6DhNvf67tpwCYMV/DRUFi+UWdPCrbmDPLk4DG6iXK/bmgRLhS6Ups1vByRAtNNAmigEmmAEoVzSH7nlVi1Td2SmtPa8phCBi/WCHEKzQTUC57dfP5OCRSsltjpVFi5cmV6HAYL+wi9MAd9MH5QqkW/VuVUiSsmSpXxw4YR9YuFjaxGlcDoKaO14rVwyuFzgmkKJF72qExcezJzgNWnwa1u2jOY2HwikgPa7ooIsjV12Kd2ylRlhyiYQ/FMBZxMS6BUYINzuBlLbir0qzi25uoSxZfmUJhCBc2gutEHposb0e6SkuZgdXQSiNI2U9HNkh82kEiDdMqwsmpWfoKc0u9tJPZclyLMf1kH1g1t3b48gOyWmcbb2NQ/12FH6lSWkipbFPjbBEdUNsHziJYINx5AI6O0zoqJUrEIOZ0uySt2DKort60dp1gXHU8UokQhQhjGovRcE7b5VmlwbIvrJoiU7hVSg0Dvq2CNFtmtYyhor3W2l2qTkl/SlNQlZ4JREtQVI4coSAC4AY4Wdth1HxnYmVCEtBmkhRsDS13eDMGjAMLigcZF4uGq6yOXxxjarYly+7CaGU5n2PdLly3Adn1qBOOiDPG6ZCdjD3blotFxRfGtVDlGWrRmTBctcJYMdDKfYTYiePKkcYNPNWLVcORCmcvhuUeRYV0SkbT0yI0BJkQOBQIURLnlGlXJndka48mosK033FBSt0eGo8zM/tc4R9uCa4q5YrL1oQfIyncbByS+/oKVZD9cAqB+8pXlPn3dCcxnHhdkZWLVdmiHAISQaPB6c2IatPt6q95oCIGN5mSWfgOJfHWXvEAh3uN6ydCVNOQ3yvO4Ks5/WlrL4+9+UJVz0KHaGOBw+sWtAZOAqE8EiT11pyW3XonpenUZOzI/TBwvJjfC4cAruXcKkbrpMrsooVCHGiby0FU9ZWY48XX+DNvl7ThQhQavTH4+FwhAdTvMFNs/goGYkHywJCwAVcV6KzxN5qXytAwdnnxXx3qISlR0x1pl1dGENWCZBh39tKco2K5jSJBrMI17UzYdCEG8i7WT7UWUY4IxlmfdyRa1S6vdyotee6bzU6GjoNGZvkNGQyIzoeNIl80dQe3yEOnJ3WBwAzw08PkZsmY8xwTjPerk6mGOgRolTcJNReq2FieHL0jstD9B7VZERkDOEjBwjrtZwmEZisNq87YhZqB5FFVoN5+iPY95JgKAJuVNlQ1ms4TaIRqTI+qqHJdup/rcrrshOXAqX++OQLH3mqh+RQHTTXYAbMHtYI6bM4eytWqMF9Ys9QKouITviCHWWr3o2lQ4h3TkxhDTKDdj+utPy1pbQqc1fSRzbg/GlfOZRoEeIzDHoebJUHMSAJC5Dxy6QzrROZlfo4cvzKLFTWfyGEnCbVcNd/I3JdTpaPNoXe+nzoe9IjriHi+QXl02oTu0pbiLNyku0ntPVflRPBrIDIRdtRNU4gBffHcb8/iydcKFp2s6348m4SRibfPMBJyEehsl7LaZJZPLGHaa3sUIkwrjstLtM8ZlSOSNKNNIekG5xIRx0q6Oos71YjUjw35+zzFgip3ZKv34oQ7SxPRHsMvMk5wigFLJEXg7qdaUQOa197MJ6G02SaIPZL3n8PuJOg/Z7ZTdbXdXTd4yTExux8QP2Orkrt5QgN6pogdAXFOZffgxBkracyMDih1wyhJ6iZw/I7EFL3d2+05TNHqGQFLnWAQApRV7e1Rj3BfB+VrhXTM2HIGc9WX7eVhhJJM4kNWzHwh6lGfvvF5ryTBlrb61p8DYm6Uroecy2ElKPq9f4YtmKOkDow+SRP2t3lTTVFEO/OGKExL8FhrkxiYdqKhUaf4t1LyIxxKxYXVnz45dAtuExT7CFamrfimHcZar6fyqv1NwR02p1is+m9RXtWCHEk6HJb1afdWmqq0B152k57hMp9eM9r7RHwhhoTE1Xc+NWqvRyhIcvQnGlx9M+LDa2YjIzUHwmMrNoz5TRnDYfVLzJ0TL5WoNE0hy4wy/aMPX6u6TaMDqVmB69ak+THNM7i2rXc4AuP2j2xA24yqUGaJ5n20AzfsuUmX+mkDxA6y042QxiS04iLMNuWm3yX2+AInd79uvhhFTPmMdIvSr1GVpZac5qLhs+crsih8hUadcvx1qDJzybMyLHqRhfNbFP2fOQIqT4fmHHuBLHJt4Cz+ZJ912+IUMVRS/Kw6Uf0aTMyCPs700+QL5tZ2hShMDvBI5PHZX/ssUDk33aSUgjh+OvZRv1J1bLYfX20KacpaHxidAxLUV73q8X2JPerB7yMpKobas/hIzRbTlPUtB9g7k62TexryGmKmv4D3R3JqJl9TT3+l8ZD/KWkjuUlamhfe4QuC3Rf6e5ApkHj73w35DQlTYY255U0kMeIPhfnepympAmDE5Qay5+4tX1Oiw6QaxwewN+JDITtqfvdefzypM7XTwoayNxtNdXsEmEyYG07xyeMT56+DqepaazT55hMMbuwymnFacqaJwP9qZaGMvSl19kKVit/WNPAF4Cs5eU0fnZnVUuPD7SJ6ZlzWJ42bne2XAehJ8XIdPJYk/la6A4rt0fYktMgjXFnslQkm2J5GIRJPKD7FayOG8xHMpZ8BGhufMLe827mC05lBv84p8FaevOC9fJek7n+uhgm+bWdruqUtKshPE+wZMDG8XSz2FdCAh/7xWban3CTr1bfNMLsZU9ECO6HXvLZnDDyZRadYrYfqftRTmOgnYdbz/uOq3XOaW5W69of3prWvce/Ne3/gPAKnOamtHxAvQ1jrqNlchsd6qr+8Mft+EXYGuE3cIuf0n45zV+v/R88/r+P8OuV/Hnn/MtpGmmZ3EaHuqo//HE7fhG2Rfg1oP572n8OQWII1i1ryQAAAABJRU5ErkJggg==',
      iconSize: [60,50]
    }); 
    L.geoJson(data  ,{
      pointToLayer: function(feature,latlng){
	    var marker = L.marker(latlng,{icon: crimeIcon});
        marker.bindPopup(feature.properties.Location + '<br/>' + feature.properties.OPEN_DT);
        return marker;
      }
    }).addTo(map);
  });
  
  </script>
</body>
</html>
