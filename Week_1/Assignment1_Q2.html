<html>
<head>
  <title>San Francisco Crime (points)</title>
 <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.3/dist/leaflet.css"
   integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ=="
   crossorigin=""/>
 <script src="https://unpkg.com/leaflet@1.3.3/dist/leaflet.js"
   integrity="sha512-tAGcCfR4Sc5ZP5ZoVz0quoZDYX5aCtEm/eu1KhSLj2c9eFrylXZknQYmxUssFaVJKvvc0dJQixhGjG2yXWiV9Q=="
   crossorigin=""></script>
  <script src="https://cdn.rawgit.com/jquery/jquery-ui/74f8a0ac/external/jquery-2.1.1/jquery.js"></script> 
  <style>
    #map{ height: 100% }
  </style>
</head>
<body>

  <div id="map"></div>

  <script>
  // initialize the map
  var map = L.map('map').setView([37.7749,-122.4194], 12);
  // load a tile layer
  L.tileLayer('http://a.tile.stamen.com/toner/{z}/{x}/{y}.png',
    {
      attribution: 'Tiles by <a href="http://mapc.org">MAPC</a>, Data by <a href="http://mass.gov/mgis">MassGIS</a>',
      maxZoom: 17,
      minZoom: 9
    }).addTo(map);
  
  // load GeoJSON from an external file
  $.getJSON("sf_crime.geojson",function(data){
    var crimeIcon = L.icon({
      iconUrl: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAABC1BMVEXdPUf///8jIyPt7e3u7u7r6+sAAADdO0UeHh7z8/PcMz74+PjcPkfdO0bx8fH19fUSEhIaGhrbKDXcLjrv9fQPDw/v+PjdN0HlPkmRkZHR0dHc3NwpKSkLCwsAISHcKzfbIjC+vr4UIiFbW1vp0NHmf4XrkZaBgYEbIiIKISHj4+OxsbHCwsKbm5vgUlo+Pj7pwMP56Ojji4/gY2o0NDT31NZWVlZwcHDfSFD2z9H74+T0wsSJiYnkbHL1xMb86+rvpanusLNKSkrDOUFaKi2VMjetNj3ofIJzLjHjlpngZmvvqq2lpaXp2dnotLUzJijMMzqiNTpQKSt9LjNDJimPMTi5Nz/VZ201QkLaBAAGAAAYUElEQVR4nO1dCXubuNb2glGMATtATVZDE0O2ljqQNCSt0yTt1HVSu9NOZ77v//+SK7yxHiEwZHrnznnmea6aa4xe6yyvjo6kStWTOsMw9X9oq/KL9ONfhP8iTEWIpfEPbVW85hxs45/ZqjB/uxqV22L+RVhQSxSVWUvxZNESGeZZEPom2SihNX+T0pgMptP7u7FpeGKO756m08GkMcdacg8q5YJrDe7toatKkoyF4zjVE/y/+F+apnHWcHw/aJULs5x4yChK9/z6bihIGgYloAogCHGypgvDp+tGV1HKUdpyEJ5ObdcDB0IL41Q5TbLs6el/BUI8Dpd3liRTggvA5GTJurvB4/8rcxqmqQxMVeKyovNRShWzj9X11+Q0jFK9GQtS5sELiSBgkOMbPJC/HKcRlca9pecevfBI6tZ9XRF/rYjf7RuyXAS8mfBIlu1J91dCeO3oqlAUvpkIqjS8LAZhAaH21lrT+pJFlazr9alAAZxm6kolwFtiHKzdv3Xj4bWlFaueYUGSdbmmqq6DkKneOKWN31JUfXi+FgtYA6HSMHW1ZHxzjGZD+Rs4DaPcc9wz4PNE5qbd3DwnN6f54JRqgCHhkeZ8qObsab54KCp3z6Kgvqj6k5cUeK6Ir0wsmX9WgJgCaM5EeSaETPf+mQdwLkjC1pgDYQ7OMNT+BnyeSKN6tp7m4jRKv/JcLjQunDtRyuY0WEOF5zbBgCAda2qZEZ9RDOnvgzcT3c6YscqGsOHIfzNAHP4fcyGk4wcf+Jw+FCHVS5FKM9Hwf7LMIZSTMahuO0Ofs3Aapa9lp9mCl0OTKo4xvr+9vryZeHJzef3ufmw4FUmSuRwzZyR7/oaqz5k4TXeQeR6hcprsjN/deOneeQafEUVxrmTeAkbj8p1paRqXVTOQ1leKj/jdaTaACKN7vOvPcRG/eXDnaDKXaSiRPlAKRzjV6fvAI1VC5oChS9QzSreeNc2KowY1QkpOc6/TR0FV48zL6iznSRecG7NUuZkhW8cL+juab6blNA0c56l/XVV3bkXMkbPmVRiFuXXoCa+AFbU4TtOd0o6gwGnmef6sSPXGlmgtcgaR4ptpECoDie6tgsyNM+OKtFpj7HWofk9e74sFIezTeVGB4+4Y/515VwOV+pjWs0oTeoREJkMV6HlVGzcU/1lm97B2RM88Ai1GadgalT0irpX+famchmnwNACRPjoNP1vrbLyo7RC+mdSajHSat6qu57DJ35caDxUn/efkedntR+bfO2ytVttgX+VTVaY7cGmmodxj2mQqNeJ3DYrZBNLHilgPP/t6v+YJu50LIf5llTHFMPKa3V0PoXJPMR+UrXMl9uzDRm0O8TCva+3e4GFM9ar6lMzf0jhNX0/FJ+jjpGfZ2kI6e41mhrxKqGWmU0Vh4VDzcRqmUUl9g8oNuvFnxZcrhEtjzLN+1B2k+3HkMvk5TXfIpWmJ7DTEevzZ9nan5ktuY/Qys6kOhxt180Z85T41bSjZyc+23mzUghBzGyNTNaS0X1maklLFBITiJNXL6PeAs2+wtZB4xpiXyd2lGaMgnRLKGgicRrFSIiHSr4Fng2a4NMazFkNgHqTWbSpER8nFae5SIiGS+wr0bMgMA8aYqyame51GjLX7HJyG+ZAyY0JcQhRcti42YgjXMEblJmVyI0hNEAeIsJvC1hD3AXYP7aiSrmuM5ylRQx12syJM86MeQLBH4qtEhHNjzOdu0iB6/jQTp2Ea5Ckaks9DT/gTwma73a6+j5vhQlPft5h8ZSMpiiqo9eTECchpTHKg1furNSAPUhv/T2P35dnZ1+3t91eHDwlWGDTGPCROudaJPeJM4FkgHt6Qv06/njuZ9tfto8O3b/Y22Zns7++/6HQ2N2GAaxij8o7YJ0EHzAZA6BC1Hgf6mVo22X0MaGODhKhAY7wjMhB1mAXhNfG7ZHv+ueZiDphVPGPM5W5GRNPRLzNwGos0hKqz+Fxz+0UuhNgY60zie9NalkqI0cih5zRT0hAKXGOZG4lxM1rpXMzmjFnZDTMhZsWlQdKzifHQJTlmfbCqa2lCQSFVNtiXLaaeoIxim6SqykAn9AxZCc8mRvxb0hDKY589tK9yQ/SMMWFC0Hp1dUYyxq5JIsvSNSVCkhXi38n/hvgUIgvEQyaasm42rtgXeySE9apL6pyThDAefkmhlZfOg0xGzOdM59LZ2w29t1r9ynZq7Mvw36ItYqTWL2NPJHCaLikWymMl9OKj/Go6j4z+e9u7D1gjNi7aZHaj2ISQgQl4OqcR+wQrRG4kXwBQbFrxI6PY3GY94sC+9BhPM1FB5y2RJ/hBaRIz7hjCpgHPmrzVnsg710PoG+PLvZnCb9S8b24dPZyCCJUBYQhUO7biFkXINGT4J1LjWa2rzfUgzo2xccjOmR97hrVIPGQ7FyBCpjuExwBxYnTNK8pplHvYHQvaKRPlDGuq6Syb2nrPLn+nF1hfG2+wcbMNkN0wpAyZPI2ypRinIYSKxfJniGXU10WIwbArd/Viu92s73lwX7xuwuyG4GxwwCBzGobgjDFdi6tM63BNNQ2DbbR35vq68aYFE3GSJekfIogiCJtj+Ofh7hLWQJpn64TEiHSOqmfsckVnF15EFsm9JCJU4B2tApfIMqK533WEPd1efdv+VzhkYHcIIvQCGoHTMARPzEWC/aLVXteb+rJ5dRRYz3loJ7xtGfZN2J1qfYbEaeAnkQy87mtxanoRWs5pE/I5bR0eibvwE5F4iEAlVU1AZU4LVNOgsGekfI4BWiJyw0+EEV7CSqqfAwjbb4v0pr5sHrYICG/gnko3BIR34C+jJkxMFlOeAtU0JOwpKXcDx235KQnhMg8CPcZrt8HPBVtMWWq6fyYScjfvQHeKnNATQU7DnIJDj/kenEMpTU0T37ZswduutAYT+FwwHipTcK2CM+F1pmqRQT8obAswjFk+A54DyYPAFCoU8RUbfEi6TMpYLVpiWd70JQGheA0Px1iBEII5EISIKVvCOsU6snlFQMhUwcwisrpBhAEjPgfNkDOJSyelqWni25Ytgpo2gnYYeOQadE/agAHAzaZQu3nUtMOm/i7smQhnbJgp2F3pEuA0cDSUydWikdoSOnxHzMs0iJtXbXgKxTRAlZPvgYgPZgfUR3K9cfN1xgWMTfaoTaPcLOlwjC4YvVUDQAjOnLgnMkIxo5qyb3e9iUP6yLMvCXXOCjhLFNxETlNv6dCo4wkJeV0om5qyr2dL3RQ/C1ZT+L3MAIoXgpTMaeAHlhMnOHOSYZ1tg50VDjfaNNlklriDG1za1/r+5wLx8B4a9DnRI9HgeUVwFoBVhqF5hN0RCe+1IISyv6MmGPHBDNYsx0ZG2EoqEUqU/Z15dqJFtYDcOSJNoUAOFtgUEUQIulL5XSrCZkKZVzLAs+rctF7Tjfr+S8KiP5jbVUcBhL5JguuisykluRyEoVbTzovNTXa7uk37eXYbrsC5hDzHYq00zGkYBdw7JjUoql72qL1pp/OqekUfXtgrkEtNdKDHgtBN4DQgRUAVYg3uokXtTdmreuswC5HtXNSBjI0CFm5pCREfrpdFDs3ZKZRBf9Nbe3nItuo4W/RPXKMBWY00EeMIB6DZGlSnw9Ro1JR9YKrtvcw5Ac8Yk8ZwBDlHqR9FiO0QpOrehJKi1oXCm26wr7H9bOZIerCHTEIFDrweLA+YOKcBEWKmXk3jNI06VHEZkBd7u+3mDptruty5YBIqcJ7APq92mAY4DRhc5Ns0BZ212sDQbC7GdsNziu3c1RuJxggm3Ljp8nOBiA/ODuWEKpUkhIk8c5M9fN2ZN7x9JV/XKU+JG+MtiPApASE4F5Hozr5LUtNN9mp3vtbPzhZaKIkMBPFQjEymwGzUnLZFOA1YM6vdLHWaHPabMQNjHzyWjekOdjEewKM1k3Kdi0gFDkhqZvW0EU6jgIkdaUK57TyyHLyBQx/+fzFl3b84xT9o+3DtrCM2xnag2JnpQwhxhItxGhJCqiOoWodhVrO5Ma8YaT2wR7PPPeSs1QxJyBhFEsJYxF8X4c5+2NFsXsz36DKNeR1X62Kd8qkAxEO/nuQZEYrYxMJWuPlmmWvYPfUmhEytqMWNpTFmREiyQ20Sq6KJtNo7FxEqvfGGWWZYGG/yc5ovzifKIktQp7XDFacBfam08qUQp/ka6//G269nZ692ducvab8qEGAtYIxUvnT9eCg+JPjIjf39fZY9mn/urOilm2VkpIqH6ZwmqfLWb7VesoCFdTZezat+1iEygCyMEeQ0chKnSWGxyQibdT/IbXb2g2DZK6Y5+9z7Mhbf5saYMluIcBqKuUUs2Is7nU5tw4PGsntv35/trIprMA1tzR1UhoRFJvFmYlRzi2WnRZr5YQwmRtZ5c7X9dcf7a7PZXi5FsA+n86Qh87aklTfPGOH5oRaYHy4VTwFT3ogwx9/daTdb7faqQGteqriBnd1iTeVNMXE+UTr//39gFiM2x/ei53p5mnmrfYgR7V/stOd/E7MnLLLIyUcwAZqQp2Ea4BhW6BGKu3s4RlQXqfjTTqkAaz2gx1hL/US3n6eBU3N+vpSUp5m3mOpuffm33WLjfIJswYOStPYEp+aWuxhIeZplqy4ud/sUHuejcvwJRBjMeQfWLSCEFOsWCa3SAdYO/oQQqsaqL8GVGZC2cVBZIqm1XsKCSk6+g4vWyWtP8EqOlR3hugkLGumBrjS0fug7CngNWKtm2pSM3U1ZRCYkx5CS4nAYsEO/SVjHv864xbyQhEUqQNDR8KF1/IBqVUC1vqM+TNNrtQtKWKTIwW8QQsENHLdJV0/jpBw3FWrVC0tYkAU2Q7Ce5gmuiarTn6BXfpxfyAFohkk1UXVyXZs8oN173c658pJdjr/AjuYyuZ6mDheKLWoTKTjNOvtms8nJZxChBu17gpdUBZXSyZSQsICkJ0BmGKkvDSAkbEAl1gj7rVISFsmCYwV0+gChRhiu2CTWeS+/63ni/EJOPsOV7OE6b98kSbX6FZl87Ju3TCJmqrBYGyFohbxWDxCUyL4nwjaNWwK4eStjhcV6cvAHiFB9DPUvvGcGjohJm/lDrZITFlHpfQQHg0vcM7P4N2E3kX5DRHj64pnC4FyOf4BDGN2hFdm7Bp8EydkEhM8X5xfS+wzfbZq8dy11qRsHjBa89lT+fD4q8BDO9x8mcprZsjFxDynEZOjrZwuSk9C0InyNhNQP338Z3QcMzqAqAgfR7+djaksJkW5kuSpaRX/BDZ9Nl2kv9zj5PNtnH8HwEKJH0zT8Qyy5J/JebuYGPi1UkBP24+PWWueb5JJQ+oIzHMc0V4nC+H78eiR0w0Gfn7nTeLDffk4q40nve3AIXcPhOGdZ4Lw4UwHey11liOdiJFXW1E87zzyI34KcG5mmbVhLZyMsz8WAz6dh6tnONvGS3I31S4GySO+vQA8F3uQsY7zcVwifbRKcQhFO9dQHiSf2tr5CK90lyEEoxaaapqNyK9MKTZwAhMSzUWJnDC1abSapWqEc6YVcIbIM0/bPfdLBM4YCDKX7SBhEbtwF8jSvn4m3hdxMRR2OLHe0KgVSR0qMcyWcuUc4dmBGwBNXnOqtnb1nSQOHKLc6sm176N/FqN9UY5wr8bw2wiAiF6LfTeZZ1ipC52C5NlKH9mq6kHQsQuKJdMSTLzkTPLG3+qp0h4N1NGCGqms7HG+v/p1U25R8jjDpXLuZP4Wmwa2S48ZBKEeKHNcwDXuVqleTz02MchpPSOeF8YJ2Trjq6KxUh/MtCJDnx5b6OPIdo5R0xXXiOcLE47AWS8hQxqbdeFPeMPZ+DxohcmwZ8b7TiBG2ZE4zb13qBISY6xIzNtTb0jIDDGe5kWM6yI8UniNN6hVwjjDh0DdPHe7IC9zl8NReZDVNQIZtmiuf4e05zIDwnDiIvH5LSBCXdJrLSXglRkAVQbWGK4B8ylnQsfyLSb67Q78G90K1sh0NTSsH4Sw+ci1VdQLlI/I4EQd4NwLTUInnXQtSAnuYtZoPpcTEg3D6EFlYQfmR6f9BEIEVMfBcffismvk3SsAFclelzIcPfoZtULX5oeHy/vKTBEXp/Hcj4LD4fHVCBz9R6F4khOyhyRm+knpHs2ZFmH6/hXYTdze5TjlJBxjJcKuGM7RHhrm6pVWQWiAO8L6nevUp5R4dhDUj8mx7vwwvc4LnvKERfLQF1TFG/CqHKE1BCkK670lxEHkU5zdlBjI2zTdleJledMFeNUYcsnj/nl31sQsv/K15V9Bd8InWVRkzRBzow7N6lRuajmX6E3tBbkCxmYwQ+9NUiNIoUJtTSrFekKrxvDeBsEfICCRIcaxPzh5RIGS65MsIPOGsydJNl5H7Pvj2ezA3aqk4ED7ahuq6vo7KRjfh1rBUTjNrMXXiTHEmqjzozgJsAeftxqT3JVhwgZyxw42s0TDARj3YYnLvyZxm2QLPZQi8Vze9GgCG/tgIWjkOZ53wq0Z4Tu+a2mgU+GPg7rxMnGbRUqbpECuye6O0DgufUPR+hO8H5bGTGZmWa5rBbXZp91en32Fp091hWXglzQEewMituarlcIZp4QmFr7pyPAWcESGjkNKnK+F+/9Q7LhJg7xMf1lAeTwANwxAwxMCF89ww/R5SiNOsjkhh0r0NFmHrr28nxeH79ld0GVtQXVseGUJlFEy2WWLa9dg093K35RRus8T4/eCgkHE8OcYKGv121+BNYyQbbkClEGql9p7uTmeqK4/x+4Q/D9Yfx5OD37ZiJWtItUxrZA7NUeCkYyRnuNOZ7FD7Ot1N2ZUt9NvxyTrjeNyrYXxx/RgOZUxGh0bQKSCtT3aj9AjryoDqhmXvrcLW55+9g5z4Dno/PkfGT5gNIBqZhmOqqhoYQUG6Xt7rSIOQyArqdRwWKe90x/3Z+vjlJIdjPT45+ePjVuSXRNjNqUPTtizbNkNZ3Nnl8TS7sVLv5V603tFDxD5n6/OnXiZtPT7pfcLDF32HapgIObZlmK46DDpRDPA6tc9UnMZvDVKm/NGBrHz+ctCj8q3H+HNfPgsxeLMhNLEBDjkeTyVQMC6jRQY/xbyoIv7K3RAvk0roXGVr6+Nvnw56JwSYxwdYnz/99tEbvcQfUB3a7sh2ZTN8vQ/SrmmcTDaEdaWfdt9pTLC6bn38/sePWq93cnKAo+XxcW323zH+x0mvV/v053eMLmn0FsKrtoGwCRphgN4dr9QI0ziN3xInHA2BS4JZ+fj5+59/fPn04+fPbz9//vj05Y8/v3/+iEd5C4FxCKmqgHjHsh3BCa8UqWiiNGi3KdFwGr/VclNvsYZgCmgrLAgstV8AxNFdcOwh5tqV8H0GnEXBZLJxGr/FPKbeY00Wfibpn0NewtceeTV5bmSpTx4SzqXNG/F9hIqdIWrkFAHHddMZjfB015tFRM7+1cdZ9mBlRlhnutPM/iYbPKTyI0c2h0PT4YaxlVqkEbNO+TlNoKVM3NT0VE5BPC9UhiMXT+RHQ8GrV4scOMrL1oTq/L88nCZYOzNKuUM6nwiqgcfMwINXGZmjoSpYwanu7BO6IWbqaTZOEzDG7hS+eSGvIMS73qDZeI7kcIZt4FARUVFVnmY0wYwRP9BqnjoFY0SWabqGzbu24agWQsPYgbiC9NjIaoL5ETKicq/nif4wQnPEqbztaCMbq6gaKU7HokpTqFKpOE4Tbn0YFmmN6sg0Dc4whuhxmFB0hqRhK2P/fDvMAW7Wwtaokm8nzyQI66llmQaP4hcy8XJl0M15YXn2eBhoKYxZnKry2LkIFTXp+1R9zCiklYliI35IxbGq6vAdWNkQOtHYsBCkjz7k7N/6CL3WpVMMx/G4WQJfVSWHvKOMGiE9p4m1BlZpPE7VrcHa/cvBaWKta6fY0LHC51yu0atlK188jLYuhxK5wiizIE4f3azZq3UifqzVndiyXNxAIpkbT2gzMc+DsC4qzNTRCwmQAqc7U1EhXTHzLJwm1vKCx50rgfcPUI4eJ7lPH6pKUb1ag9Mk8hyl28cgwcu0UoRXOd2963eV3PylYE4DsIDqzZOjyZmHEnGa9nh/Xq0WZDaFRfzkVmMwtmRJVlPyaYuhE1RZ0qzxgGad5VdBiKdX3cblveFKeDTV2FRoNW5I5WRJco37y3pXie06KxThGpwBas2/vz8djyxBw0hlmeM41ROOw/+QNUmuWMZ42i+tB8VxmtRWtz7pD26nT3dj25Px3f39u0F/wiiRn6OUHhQVD1Na4kIFFU9mLe9P5b+3wIj/y7b+FxAWxml+0VaxnOaXbJUTD3+l1r8I//tbc4S+Q/3ntf4DGcUXjaOyBkYAAAAASUVORK5CYII=',
      iconSize: [60,50]
    }); 
    L.geoJson(data  ,{
      pointToLayer: function(feature,latlng){
	    var marker = L.marker(latlng,{icon: crimeIcon});
        marker.bindPopup(feature.properties.Location + '<br/>' + feature.properties.OPEN_DT);
        return marker;
      }
    }).addTo(map);
  });
  
  </script>
</body>
</html>
